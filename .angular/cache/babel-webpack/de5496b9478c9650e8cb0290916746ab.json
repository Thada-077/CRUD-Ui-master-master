{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport Swal from 'sweetalert2';\nlet ProductlistComponent = class ProductlistComponent {\n  constructor(_route, _service, _liveAnnouncer) {\n    this._route = _route;\n    this._service = _service;\n    this._liveAnnouncer = _liveAnnouncer;\n    this.products = [];\n    this.page = 1;\n    this.pageSize = 4;\n    this.collectionSize = this.products.length;\n  }\n\n  ngOnInit() {\n    this.getProducts(); //this.user = this.isUserLoggedIn('User');\n\n    this.refreshCountries();\n  }\n\n  refreshCountries() {\n    this.prolist = this.products.map((country, i) => Object.assign({\n      id: i + 1\n    }, country)).slice((this.page - 1) * this.pageSize, (this.page - 1) * this.pageSize + this.pageSize);\n  }\n\n  getProducts() {\n    this._service.fetchListFromRemote().subscribe(data => this.products = data, error => console.log(\"Exception occurred 1\"));\n  }\n\n  isEmpty() {\n    if (this.products == null) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  goToAddProduct() {\n    this._route.navigate(['/addproduct']);\n  }\n\n  goToUpdateProduct(id) {\n    console.log(\"id: \" + id);\n\n    this._route.navigate(['/editproduct', id]);\n  }\n\n  goToViewProduct(id) {\n    this._route.navigate(['/viewproduct', id]);\n  }\n\n  deleteProduct(id) {\n    Swal.fire({\n      title: 'Are you sure want to remove?',\n      text: 'You will not be able to recover this file!',\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonText: 'Yes, delete it!',\n      cancelButtonText: 'No, keep it'\n    }).then(result => {\n      if (result.value) {\n        Swal.fire('Deleted!', 'Your imaginary file has been deleted.', 'success');\n        return this._service.deleteBdyIdFromRemote(id).subscribe(success => {\n          \"Product deleted succesfully\";\n        }, error => {\n          console.log(\"Exception occured 2\");\n          this.getProducts();\n        });\n      } else if (result.dismiss === Swal.DismissReason.cancel) {\n        Swal.fire('Cancelled', 'Your imaginary file is safe :)', 'error');\n      }\n    });\n  } //   isUserLoggedIn(User: string): string {\n  //     User = localStorage.getItem(User);\n  //     if (User === null) {\n  //       Swal.fire({\n  //         icon: 'error',  \n  //         text: 'Something went wrong!', \n  //         position: 'center',\n  //         title: 'Please Login!',\n  //         showConfirmButton: false,\n  //         timer: 2000,\n  //       });\n  //     this._route.navigate(['/login'])\n  //     }\n  //     return User;\n  // }\n\n\n  logout() {\n    localStorage.clear();\n    console.log(\"logout success\");\n\n    this._route.navigate(['/login']);\n  }\n\n};\nProductlistComponent = __decorate([Component({\n  selector: 'app-productlist',\n  templateUrl: './productlist.component.html',\n  styleUrls: ['./productlist.component.css']\n})], ProductlistComponent);\nexport { ProductlistComponent };","map":null,"metadata":{},"sourceType":"module"}