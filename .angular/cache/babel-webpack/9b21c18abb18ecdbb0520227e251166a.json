{"ast":null,"code":"import { ReplaySubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nexport let GoogleSigninService = /*#__PURE__*/(() => {\n  class GoogleSigninService {\n    constructor(router) {\n      this.router = router;\n      this.subject = new ReplaySubject(1);\n      gapi.load('auth2', () => {\n        this.auth2 = gapi.auth2.init({\n          client_id: '605470790327-7pe22nvcg86c9m91bbatjlcvq1rm3pv9.apps.googleusercontent.com'\n        });\n      });\n    }\n\n    signIn() {\n      this.auth2.signIn({\n        scope: 'https://www.googleapis.com/auth/gmail.readonly'\n      }).then(user => {\n        this.subject.next(user);\n        this.router.navigate(['']);\n      }).catch(() => {\n        this.subject.next(null);\n      });\n    }\n\n    signOut() {\n      this.auth2.signOut().then(() => {\n        this.subject.next(null);\n      });\n    }\n\n    observable() {\n      return this.subject.asObservable();\n    }\n\n  }\n\n  GoogleSigninService.ɵfac = function GoogleSigninService_Factory(t) {\n    return new (t || GoogleSigninService)(i0.ɵɵinject(i1.Router));\n  };\n\n  GoogleSigninService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: GoogleSigninService,\n    factory: GoogleSigninService.ɵfac,\n    providedIn: 'root'\n  });\n  return GoogleSigninService;\n})();","map":null,"metadata":{},"sourceType":"module"}